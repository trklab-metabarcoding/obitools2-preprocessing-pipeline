---
title: "Step 2a - data preparation"
author: "T. Divoll"
date: "2023-09-12"
output: 
  html_document:
  df_print: paged
  toc: true
---

```{r setup, include=FALSE}
# set global chunk parameters here
knitr::opts_chunk$set(echo = TRUE)
here::i_am("documents/Step2a_data_prep.Rmd")
```

## Environment Setup

This notebook can be used to run the OBITools 3 pipeline and serve as a tutorial. Run through each code chunk and inspect the outputs or select Run All from the dropdown above to run the whole pipeline. First, update the parameters in the first code chunk.

```{r include=FALSE}
install.packages("pacman")
pacman::p_load(here, Biostrings)
```

#### Update parameters and thresholds
```{r}
cutadapt_mismatch <- 2 # -e in cutadapt
min_read_count <- 1000
min_read_length <- # -l in obigrep
max_read_length <- # -L in obigrep
clean_threshold <- 0.05 # -r in obiclean
F_primer <- DNAString("GGGCAATCCTGAGCCAA")
R_primer <- DNAString("CCATTGAGTCTCTGCACCTATC")
```

#### Set up standard path variables
```{r}
samples_dir <- here("data")
output_dir <- here("results")
sample_file_list <- list.files(samples_dir, full.names=T, pattern="xlsx")
```

#### Generate some additional parameters from inputs
```{r}
reverseComplement(F_primer)
reverseComplement(R_primer)
```

